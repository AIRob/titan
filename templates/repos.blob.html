{% extends "repos.view.html" %}

{% block add_js %}
<script src="{{ '/static/js/prettify.js' | s_files }}"></script>
<link href="{{ '/static/css/prettify.css' | s_files }}" rel="stylesheet">
<script>
!function ($) {
  $(function(){
    window.prettyPrint && prettyPrint();
  })
}(window.jQuery);
</script>
<style>
.center {margin: 5px 0 0 25px}
</style>
{% endblock %}
{% block show_content %}
<div class="row-fluid">
    <div class="span4">
        <ul class="inline center">
            <li>
                <span class="label">{{ content_type }}</span>
            </li>
            <li>
                <span class="label label-info">{{ content_length }}k</span>
            </li>
        </ul>
    </div>
    <div class="pull-right">
        <a class="btn" href="{{ get_url('repos.raw', kwargs={'path': file_path, 'version': version}) }}"><strong>Raw</strong></a>
    </div>
</div>
<br />
{% if content_type == 'binary' %}
<pre>
    Binary file
</pre>
{% elif content_type == 'image' %}
<pre>
    <img src="data:image/png;base64,{{ content }}"/>
</pre>
{% else %}
<pre class="prettyprint linenums">
{{ content }}
</pre>
{% endif %}
{% endblock %}

